<!DOCTYPE html>
<html>
  <head>
    <title>Nuevo Producto</title>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
  </head>
  <body>
    <form name="form1" id="form1" method="POST">
      <label>Nombre:</label>
      <input name="nombre" id="nombre" type="text" />
      </br>
      <label>Valor:</label>
      <input name="valor" id="valor" type="text" />
      </br>
      <label>Descripcion:</label>
      <input name="descripcion" id="descripcion" type="text" />
      </br>
      <button type="button" name="guardarProducto" id="guardarProducto">Guardar</button>
    </form>
    </body>
    </br>
    <a href="productos.html">Volver</a>
  </body>
</html>
<script>
  $(document).ready(function(){
    $('#guardarProducto').click(function() {
      nombre = document.getElementById('nombre').value;
      valor = document.getElementById('valor').value;
      descripcion = document.getElementById('descripcion').value;
      
      var settings = {
        "url": "http://127.0.0.1:8000/api/productos/a/create",
        "method": "POST",
        "timeout": 0,
        "headers": {
          "Content-Type": "application/json"
        },
        "data": JSON.stringify({"nombre":nombre,"valor":valor,"descripcion":descripcion}),
      };

      $.ajax(settings).done(function (response) {
        alert("Producto guardado");
      });
    })
  });
</script>
